<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KIMA ASWAN - Dependents</title>
    <link rel="stylesheet" href="../static/CSS/Dependents.css">
</head>
<body>
    <div class="container">
         <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <div class="logo-icon">☥</div>
                <div class="logo-text">KIMA ASWAN</div>
            </div>
            <ul class="nav-menu">
                <li class="nav-item" data-page="dashboard" onclick="window.location.href='Home_Page.html'">Dashboard</li>
                <li class="nav-item" data-page="employees" onclick="window.location.href='Employee_Page.html'">Employees</li>
                <li class="nav-item" data-page="suppliers" onclick="window.location.href='Supplier_Page.html'">Suppliers</li>
                <li class="nav-item" data-page="products" onclick="window.location.href='Product_Page.html'">Products</li>
                <li class="nav-item active" data-page="customers" onclick="window.location.href='Customer_Page.html'">Customers</li>
            </ul>
            <div class="help-section">
                <div class="help-title">Need help?</div>
                <div class="help-link">Open our help center</div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <div class="search-container">
                    <span class="search-icon"><img src="https://i.postimg.cc/6pMgv9SK/search-svgrepo-com.png" alt="Search Icon" style="width:20px; height:20px;"></span>
                    <input type="text" class="search-box" id="searchBox" placeholder="Search">
                    <span class="mic-icon"><img src="https://i.postimg.cc/W4rmP80k/microphone-svgrepo-com.png" alt="Microphone Icon" style="width:20px; height:20px;"></span>
                </div>
                <div class="header-right">
                    <a href="#" class="header-link">Home</a>
                    <button class="icon-btn"><img src="https://i.postimg.cc/5tqH3Rw7/bell-alt-svgrepo-com.png" alt="Notification Bell" style="width:20px; height:20px;"></button>
                    <button class="icon-btn"><img src="https://i.postimg.cc/YSp2pqW5/profile-round-1342-svgrepo-com.png" alt="Profile" style="width:20px; height:20px;"></button>
                </div>
            </header>
            <!-- Content -->
            <div class="content">
                <div class="page-header">
                    <h1 class="page-title">Dependents</h1>
                    <button class="btn-add-dependent" onclick="openAddModal()">
                        + Add Dependent
                    </button>
                </div>

                <!-- Dependents Grid -->
                <div class="dependents-grid" id="dependentsGrid">
                    {% for dependent in dependents %}
                    <div class="dependent-card">
                        <div class="card-header">
                            <div class="dependent-header">{{dependent.D_Name}}</div>
                            <div class="card-actions">
                                <button class="action-icon edit-icon" onclick="editDependent(1)" title="Edit">
                                    <img src="../KIMA_DB_Project/static/assets/pen-line-svgrepo-com.png" alt="Edit">
                                </button>
                                <button class="action-icon delete-icon" onclick="deleteDependent(1)" title="Delete">
                                    <img src="https://uploads.onecompiler.io/42z9qxur5/447495evw/trash-alt-svgrepo-com.png" alt="Delete">
                                </button>
                            </div>
                        </div>
                        <div class="dependent-info">
                            <div class="info-row">
                                <div class="info-item">
                                    <span class="info-label">ID:</span>
                                    <span class="info-value">{{dependent.D_ID}}</span>
                                </div>
                            </div>
                            <div class="info-row">
                                <div class="info-item">
                                    <span class="info-label">Phone:</span>
                                    <span class="info-value">{{dependent.D_Phone}}</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">SSN:</span>
                                    <span class="info-value">{{dependent.D_SSN}}</span>
                                </div>
                            </div>
                            <div class="info-row">
                                <div class="info-item">
                                    <span class="info-label">Birth Date:</span>
                                    <span class="info-value">{{dependent.D_BD}}</span>
                                </div>
                            </div>
                            <div class="info-row">
                                <div class="info-item">
                                    <span class="info-label">Relationship:</span>
                                    <span class="info-value">{{dependent.D_Relation_Type}}</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Gender:</span>
                                    <span class="info-value">{{dependent.D_Gender}}</span>
                                </div>
                            </div>
                            <div class="info-row full-width">
                                <div class="info-item">
                                    <span class="info-label">Military Status:</span>
                                    <span class="info-value">{{dependent.D_Marital_status}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
              </div>
            </div>

            <!-- Footer -->
            <footer class="footer">
                <p class="footer-text">© 2024 KIMA ASWAN Factory Chemical Management System</p>
            </footer>
        </main>
    </div>

    <!-- Add/Edit Dependent Modal -->
    <div id="dependentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Add New Dependent</h2>
                <button class="close-btn" onclick="closeModal()">×</button>
            </div>
            <div class="modal-body">
                <form id="dependentForm">
                    <div class="form-group">
                        <label class="form-label">First Name</label>
                        <input type="text" class="form-input" placeholder="Enter first name" id="firstName">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Last Name</label>
                        <input type="text" class="form-input" placeholder="Enter last name" id="lastName">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Relationship type</label>
                        <input type="text" class="form-input" placeholder="Son" id="relationship">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Phone Number</label>
                        <input type="tel" class="form-input" placeholder="+20 123 456 7890" id="phone">
                    </div>

                    <div class="form-group">
                        <label class="form-label">ID</label>
                        <input type="text" class="form-input" placeholder="" id="dependentId">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Date of birth</label>
                        <input type="date" class="form-input" id="birthDate">
                    </div>

                    <div class="form-group">
                        <label class="form-label">SSN</label>
                        <input type="text" class="form-input" placeholder="Enter SSN" id="ssn">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Gender</label>
                        <input type="text" class="form-input" placeholder="Male/Female" id="gender">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Military Status</label>
                        <input type="text" class="form-input" placeholder="Enter military status" id="militaryStatus">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal()">Cancel</button>
                <button class="btn btn-primary" onclick="saveDependent()">Save</button>
            </div>
        </div>
    </div>

    <script>
        function openAddModal() {
            document.getElementById('modalTitle').textContent = 'Add New Dependent';
            document.getElementById('dependentForm').reset();
            document.getElementById('dependentModal').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('dependentModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function editDependent(id) {
            document.getElementById('modalTitle').textContent = 'Edit Dependent';
            document.getElementById('dependentModal').style.display = 'flex';
            document.body.style.overflow = 'hidden';
            // Load dependent data here
        }

        function deleteDependent(id) {
            if (confirm('Are you sure you want to delete this dependent?')) {
                // Delete logic here
                alert('Dependent deleted');
            }
        }

        function saveDependent() {
            // Save logic here
            alert('Dependent saved successfully!');
            closeModal();
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('dependentModal');
            if (event.target === modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>