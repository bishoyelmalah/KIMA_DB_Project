<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Invoice</title>
    <link rel="stylesheet" href="../static/CSS/Form_Style.css">
</head>
<body class="profile-page">
    {# Profile Page #}
    <header class="header">
        <div class="logo">
            <img src="../static/assets/KimaLogo.png" style="width: 50px; height: 70px;" alt="logo" class="logo-icon">
            <h2>KIMA</h2>
        </div>  
        <div class="search-container">
            <span class="search-icon"><img src="https://i.postimg.cc/6pMgv9SK/search-svgrepo-com.png" alt="Search Icon" style="width:20px; height:20px;"></span>
            <input type="text" class="search-box" placeholder="Search">
            <span class="mic-icon"><img src="https://i.postimg.cc/W4rmP80k/microphone-svgrepo-com.png" alt="Microphone Icon" style="width:20px; height:20px;"></span>
        </div>
        <div class="user-section">
            <a href="Home_Page.html" class="header-link">Home</a>
            <div class="header-right">
                <button class="icon-btn"><img src="https://i.postimg.cc/5tqH3Rw7/bell-alt-svgrepo-com.png" alt="Notification Bell" style="width:20px; height:20px;"></button>
                <button class="icon-btn"><img src="https://i.postimg.cc/YSp2pqW5/profile-round-1342-svgrepo-com.png" alt="Profile" style="width:20px; height:20px;"></button>
            </div>
        </div>
    </header>

    <main class="main-content">
        {# START SINGLE FORM #}
        <form method="POST" action="/edit_invoice/{{ details.I_ID }}">

            {# Customer Information #}
            <div class="card">
                <h2 class="section-title">Customer Information</h2>

                <div class="info-item">
                    <label for="customerName"><strong>Customer Name:</strong></label>
                    <input type="text" id="customerName" name="customerName" placeholder="Enter customer name" value="{{ details.I_Customer }}" required>
                </div>

                <div class="info-item">
                    <label for="customerId"><strong>Customer ID:</strong></label>
                    <input type="text" id="customerId" name="customerId" placeholder="Enter customer ID" value="{{ details.C_ID if details.C_ID else '' }}">
                </div>
            </div>

            {# Invoice Details #}
            <div class="card">
                <h2 class="section-title">Invoice Details</h2>

                <div class="info-item">
                    <label for="amount"><strong>Amount:</strong></label>
                    <input type="number" id="amount" name="amount" placeholder="1000" step="0.01" value="{{ details.I_Amount }}" required>
                </div>

                <div class="info-item">
                    <label for="currency"><strong>Currency:</strong></label>
                    <input type="text" id="currency" name="currency" placeholder="USD" value="{{ details.I_Currency }}" required>
                </div>
            </div>

            {# Payment Information #}
            <div class="card">
                <h2 class="section-title">Payment Information</h2>

                <div class="info-item">
                    <label for="Status"><strong>Status:</strong></label>
                    <select id="Status" name="Status" required>
                        <option value="">Select Status...</option>
                        <option value="Successful" {% if details.I_Status == 'Successful' %}selected{% endif %}>Successful</option>
                        <option value="Pending" {% if details.I_Status == 'Pending' %}selected{% endif %}>Pending</option>
                        <option value="Cancelled" {% if details.I_Status == 'Cancelled' %}selected{% endif %}>Cancelled</option>
                    </select>
                </div>

                <div class="info-item">
                    <label for="Method"><strong>Payment Method:</strong></label>
                    <select id="Method" name="Method" required>
                        <option value="">Select Method...</option>
                        <option value="Credit Card" {% if details.I_Method == 'Credit Card' %}selected{% endif %}>Credit Card</option>
                        <option value="Cash" {% if details.I_Method == 'Cash' %}selected{% endif %}>Cash</option>
                        <option value="Bank Transfer" {% if details.I_Method == 'Bank Transfer' %}selected{% endif %}>Bank Transfer</option>
                    </select>
                </div>

                <div class="info-item">
                    <label for="paymentDate"><strong>Payment Date:</strong></label>
                    <input type="date" id="paymentDate" name="paymentDate" value="{{ details.I_Date }}" required>
                </div>

                <div class="info-item">
                    <label for="recordedBy"><strong>Recorded By:</strong></label>
                    <input type="text" id="recordedBy" name="recordedBy" placeholder="Your name" value="{{ details.I_Recorded_By }}" required>
                </div>

                <div class="info-item">
                    <label for="costId"><strong>Cost ID:</strong></label>
                    <input type="text" id="costId" name="costId" placeholder="Enter cost ID" value="{{ details.Co_ID or details.cost_id or details.I_Cost_ID or details.CostID or '' }}">
                </div>

                <div class="info-item">
                    <label for="customerFeedbacksId"><strong>Customer Feedback ID:</strong></label>
                    <input type="text" id="customerFeedbacksId" name="customerFeedbacksId" placeholder="Enter feedback ID" value="{{ details.CF_ID if details.CF_ID else '' }}">
                </div>

                {# Buttons #}
                <div class="button-group">
                    <button type="submit" class="btn btn-save">Update Invoice</button>
                    <a href="/invoice_details/{{ details.I_ID }}" class="btn btn-cancel">Cancel</a>
                </div>
            </div>

        </form>
        {# END SINGLE FORM #}
    </main>
</body>
</html>